/** * Created by Administrator on 2017/3/17. * 什么是阻塞 */'use strict'var fs = require('fs');var fcopy = function(){    console.log(1,new Date())    var source = fs.readFileSync('./test.mp4',{encoding : 'utf-8'});    console.log(2,new Date())    fs.writeFileSync('./test2.mp4',source);    console.log(3,new Date())};var scopy = function(){    var rs = fs.createReadStream('./test.mp4'),        ws = fs.createWriteStream('./test2.mp4'),        counter = 0;        console.log(1) //当我们读取的流 开始的时候 每秒触发 data事件，chunk是要读取的文件    rs.on('data',function(chunk){ // pipe        console.log(chunk)    // 消费        ws.write(chunk);    });    rs.on('end',function(){  //异步运行 结束后才done        ws.end();        console.log(2)    });    console.log(3)};scopy();